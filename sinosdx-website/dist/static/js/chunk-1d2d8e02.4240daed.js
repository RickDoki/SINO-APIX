(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d2d8e02"],{"1e8f":function(e,t,i){"use strict";i.d(t,"k",(function(){return a})),i.d(t,"g",(function(){return s})),i.d(t,"e",(function(){return r})),i.d(t,"f",(function(){return o})),i.d(t,"n",(function(){return l})),i.d(t,"h",(function(){return u})),i.d(t,"d",(function(){return c})),i.d(t,"m",(function(){return p})),i.d(t,"c",(function(){return d})),i.d(t,"p",(function(){return h})),i.d(t,"o",(function(){return g})),i.d(t,"b",(function(){return f})),i.d(t,"i",(function(){return m})),i.d(t,"j",(function(){return b})),i.d(t,"l",(function(){return v})),i.d(t,"a",(function(){return w}));var n=i("b775");function a(e){return Object(n["a"])({url:"/app/list"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/app/create",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/app/"+e,method:"delete"})}function o(e,t){return Object(n["a"])({url:"/app/"+e,method:"put",data:t})}function l(e,t){return Object(n["a"])({url:"/app/"+e,method:"put",data:t})}function u(e,t){return Object(n["a"])({url:"/app/"+e+"?developerId="+t,method:"get"})}function c(e){return Object(n["a"])({url:"/app/api/list?"+e,method:"get"})}function p(e,t){return Object(n["a"])({url:"/app/"+e+"/publish",method:"post",data:t})}function d(e,t){return Object(n["a"])({url:"/app/"+e+"/developer/add",method:"post",data:t})}function h(e){return Object(n["a"])({url:"/app/"+e+"/developer/list",method:"get"})}function g(e,t){return Object(n["a"])({url:"/app/"+e+"/developer/delete/"+t,method:"delete"})}function f(e,t,i){return Object(n["a"])({url:"/app/"+e+"/lease/"+t,method:"post",data:i})}function m(){return Object(n["a"])({url:"/app/product/list",method:"get"})}function b(e){return Object(n["a"])({url:"/app/data/statistics",method:"post",data:e})}function v(e){return Object(n["a"])({url:"/app/subscribed/list"+e,method:"get"})}function w(e){return Object(n["a"])({url:"/app/api/list"+e,method:"get"})}},2348:function(e,t,i){},25544:function(e,t,i){"use strict";i("2348")},"82be":function(e,t,i){"use strict";i("f741")},"9eec":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app_list_main"},[i("el-row",{staticClass:"search",attrs:{gutter:20}},[i("el-col",{attrs:{span:4}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入API名称"},model:{value:e.APIName,callback:function(t){e.APIName=t},expression:"APIName"}})],1),i("el-col",{attrs:{span:10}},[i("el-date-picker",{attrs:{type:"datetimerange",size:"mini","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp","default-time":["00:00:00","23:59:59"]},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),i("el-col",{attrs:{span:10}},[i("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v("重置")]),i("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.search}},[e._v("搜索")])],1)],1),i("el-divider"),i("el-row",{staticClass:"search",attrs:{gutter:20}},[i("el-col",{attrs:{span:4}},[e.ischuangjianShow?i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.goCreate}},[e._v("创建")]):e._e()],1)],1),i("table-list",{attrs:{total:e.total,table:e.table},on:{refresh:e.refresh,pageChange:e.pageChange,sizeChange:e.sizeChange}})],1)},a=[],s=(i("b0c0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tableFather"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.table,stripe:"","empty-text":"暂无数据"}},[i("el-table-column",{attrs:{align:"center",prop:"appName",label:"应用名称"}}),i("el-table-column",{attrs:{align:"center",prop:"appCode",label:"APPCode"}}),i("el-table-column",{attrs:{align:"center",prop:"creationByUsername",label:"创建人"}}),i("el-table-column",{attrs:{align:"center",width:"160",prop:"creationDate",label:"创建时间"}}),i("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"description",label:"描述"}}),i("el-table-column",{attrs:{align:"center",label:"应用状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{size:"mini",type:e.status[t.row.isPublished][0]}},[e._v(" "+e._s(e.status[t.row.isPublished][1])+" ")])]}}])}),i("el-table-column",{attrs:{prop:"address",width:"250",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isxiangqingShow?i("el-link",{attrs:{size:"mini",type:"primary",underline:!1},on:{click:function(i){return e.detial(t.$index,t.row)}}},[e._v("详情")]):e._e(),e.isqiyongShow?i("el-link",{directives:[{name:"show",rawName:"v-show",value:60001==t.row.isPublished||60004==t.row.isPublished,expression:"\n            scope.row.isPublished == 60001 || scope.row.isPublished == 60004\n          "}],staticStyle:{"margin-left":"15px"},attrs:{type:"success",underline:!1,size:"mini"},on:{click:function(i){return e.isPublishedApp(t.row,"启用")}}},[e._v("启用")]):e._e(),e.isshangjiaShow?i("el-link",{directives:[{name:"show",rawName:"v-show",value:60005==t.row.isPublished,expression:"scope.row.isPublished == 60005"}],staticStyle:{"margin-left":"15px"},attrs:{size:"mini",underline:!1,type:"success"},on:{click:function(i){return e.isPublishedApp(t.row,"上架")}}},[e._v("上架")]):e._e(),e.istingyongShow?i("el-link",{directives:[{name:"show",rawName:"v-show",value:60002==t.row.isPublished||60003==t.row.isPublished||60005==t.row.isPublished,expression:"\n            scope.row.isPublished == 60002 ||\n            scope.row.isPublished == 60003 ||\n            scope.row.isPublished == 60005\n          "}],staticStyle:{"margin-left":"15px"},attrs:{size:"mini",type:"warning",underline:!1},on:{click:function(i){return e.isPublishedApp(t.row,"停用")}}},[e._v("停用")]):e._e()]}}])})],1),i("el-pagination",{staticStyle:{float:"right",margin:"20px"},attrs:{"current-page":e.currentPage,layout:"total, sizes, prev, pager, next, jumper",total:e.total,"page-sizes":[10,20,30,40],"page-size":e.size},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)}),r=[],o=(i("a9e3"),i("1e8f")),l={props:{table:{type:Array,default:null},total:{type:Number,default:0}},data:function(){return{currentPage:1,status:{60001:["info","未启用"],60005:["success","已启用"],60002:["success","已上架"],60003:["danger","异常中"],60004:["warning","已停用"]},size:10,isxiangqingShow:!1,isshangjiaShow:!1,isqiyongShow:!1,istingyongShow:!1}},created:function(){var e=this.$router.currentRoute.meta.title;console.log(e);var t=JSON.parse(sessionStorage.getItem("buttonList"));console.log(t);for(var i=0;i<t.length;i++)if(t[i].name===e)for(var n=0;n<t[i].list.length;n++)"详情"===t[i].list[n].name&&(this.isxiangqingShow=!0),"上架"===t[i].list[n].name&&(this.isshangjiaShow=!0),"启用"===t[i].list[n].name&&(this.isqiyongShow=!0),"停用"===t[i].list[n].name&&(this.istingyongShow=!0)},methods:{handleCurrentChange:function(e){this.currentPage=e,this.$emit("pageChange",e)},handleSizeChange:function(e){console.log(e),this.$emit("sizeChange",e)},handleEdit:function(e,t){this.$router.push({path:"/app/add?message="+JSON.stringify(t)})},handleDelete:function(e,t){var i=this,n=t.appCode;Object(o["e"])(n).then((function(e){200===e.code&&(i.$message({message:e.msg,type:"success"}),i.currentPage=1,i.size=10,i.$emit("refresh",!0))}))},detial:function(e,t){console.log(t),this.$router.push({path:"/app/detail?appCode="+t.appCode})},isPublishedApp:function(e,t){var i=this,n=e.appCode;if("启用"===t){var a={isPublished:"60005"};Object(o["n"])(n,a).then((function(e){200===e.code&&(i.$message({message:e.msg,type:"success"}),i.$emit("refresh",!0),i.currentPage=1,i.size=10)}))}else if("上架"===t){var s={isPublished:"60002"};Object(o["n"])(n,s).then((function(e){200===e.code?(i.$message({message:e.msg,type:"success"}),i.$emit("refresh",!0),i.currentPage=1,i.size=10):i.$message({message:e.msg,type:"error"})}))}else{var r={isPublished:"60004"};Object(o["n"])(n,r).then((function(e){200===e.code&&(i.$message({message:e.msg,type:"success"}),i.$emit("refresh",!0),i.currentPage=1,i.size=10)}))}}}},u=l,c=(i("25544"),i("2877")),p=Object(c["a"])(u,s,r,!1,null,"874bbc80",null),d=p.exports,h=i("5f87"),g={components:{tableList:d},data:function(){return{value1:[],APIName:"",total:0,table:[],developerId:"",page:1,size:10,ischuangjianShow:!1}},created:function(){this.developerId=Object(h["a"])("userId_api");var e="?limit=10&offset=1&developerId="+this.developerId;this.getapplist(e);var t=this.$router.currentRoute.meta.title;console.log(t);var i=JSON.parse(sessionStorage.getItem("buttonList"));console.log(i);for(var n=0;n<i.length;n++)if(i[n].name===t)for(var a=0;a<i[n].list.length;a++)"创建"===i[n].list[a].name&&(this.ischuangjianShow=!0)},methods:{search:function(){if(this.value1)if(0===this.value1.length){var e="?limit=10&offset=1&appName="+this.APIName+"&developerId="+this.developerId;this.getapplist(e)}else{var t="?limit=10&offset=1&appName="+this.APIName+"&startTime="+this.value1[0]+"&endTime="+this.value1[1]+"&developerId="+this.developerId;this.getapplist(t)}else{var i="?limit=10&offset=1&appName="+this.APIName+"&developerId="+this.developerId;this.getapplist(i)}},pageChange:function(e){this.page=e;var t="?limit="+this.size+"&offset="+this.page+"&developerId="+this.developerId;this.getapplist(t)},sizeChange:function(e){this.size=e;var t="?limit="+this.size+"&offset="+this.page+"&developerId="+this.developerId;this.getapplist(t)},getapplist:function(e){var t=this;Object(o["k"])(e).then((function(e){200===e.code?(t.table=e.data.appList,t.total=e.data.total):t.$message({message:e.msg,type:"error"})}))},refresh:function(){var e="?limit=10&offset=1&developerId="+this.developerId;this.getapplist(e)},goCreate:function(){this.$router.push({path:"/app/add"})},reset:function(){this.APIName="",this.value1=""}}},f=g,m=(i("82be"),Object(c["a"])(f,n,a,!1,null,"be0f3e94",null));t["default"]=m.exports},f741:function(e,t,i){}}]);