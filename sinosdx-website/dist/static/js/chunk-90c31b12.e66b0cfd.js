(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90c31b12"],{"19d4":function(e,t,r){},2257:function(e,t,r){},"3c07":function(e,t,r){},"6d4b":function(e,t,r){e.exports=r.p+"static/img/login.d0dfe412.png"},"76ca":function(e,t,r){},9664:function(e,t,r){e.exports=r.p+"static/img/APIlogo.ddcaecaa.png"},"9ed6":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login_main"},[e._m(0),r("div",{staticClass:"login_right"},[e.isLogin?r("div",{staticClass:"right_main"},[e._m(1),r("div",{staticClass:"login_error"},[e.errorShow?r("el-alert",{attrs:{title:e.errorMSG,type:"error","show-icon":""}}):e._e()],1),r("div",{staticClass:"right_form"},[r("el-form",{ref:"ruleForm",staticStyle:{width:"45%",margin:"0 auto"},attrs:{model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}},[r("i",{staticClass:"el-input__icon el-icon-user",staticStyle:{color:"#476fd3"},attrs:{slot:"prefix"},slot:"prefix"})])],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:e.type,placeholder:"请输入密码"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}},[r("i",{staticClass:"el-input__icon el-icon-lock",staticStyle:{color:"#476fd3"},attrs:{slot:"prefix"},slot:"prefix"}),r("i",{class:e.iconClass,staticStyle:{cursor:"pointer"},attrs:{slot:"suffix"},on:{click:e.isShow},slot:"suffix"})])],1)],1)],1),r("div",{staticClass:"right_handle"},[r("div",{staticClass:"handle_left"},[r("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")])],1),r("div",{staticClass:"handle_right"},[r("span",{on:{click:e.goRegister}},[e._v("注册账号")])])]),r("div",{staticClass:"right_login"},[r("div",{on:{click:function(t){return e.login("ruleForm")}}},[e._v("登录")])]),r("div",{staticClass:"right_login_csp"},[r("div",{on:{click:e.CSPLogin}},[e._v("CSP2.0用户登录")])])]):e._e(),e.isLogin?e._e():r("div",{staticClass:"register"},[e._m(2),r("div",{staticClass:"register_form"},[r("el-form",{ref:"re_ruleForm",staticStyle:{width:"45%",margin:"0 auto"},attrs:{model:e.re_ruleForm,rules:e.re_rules}},[r("el-form-item",{attrs:{prop:"orgName"}},[r("el-input",{attrs:{placeholder:"请输入组织名称"},model:{value:e.re_ruleForm.orgName,callback:function(t){e.$set(e.re_ruleForm,"orgName",t)},expression:"re_ruleForm.orgName"}},[r("i",{staticClass:"iconfont icon-zuzhiguanli",staticStyle:{color:"#476fd3","font-size":"14px","margin-left":"6px"},attrs:{slot:"prefix"},slot:"prefix"})])],1),r("el-form-item",{attrs:{prop:"mobile"}},[r("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.re_ruleForm.mobile,callback:function(t){e.$set(e.re_ruleForm,"mobile",t)},expression:"re_ruleForm.mobile"}},[r("i",{staticClass:"iconfont icon-shouji",staticStyle:{color:"#476fd3","font-size":"14px","margin-left":"6px"},attrs:{slot:"prefix"},slot:"prefix"})])],1),r("el-form-item",{attrs:{prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.re_ruleForm.email,callback:function(t){e.$set(e.re_ruleForm,"email",t)},expression:"re_ruleForm.email"}},[r("i",{staticClass:"iconfont icon-youjian",staticStyle:{color:"#476fd3","font-size":"12px","margin-left":"6px"},attrs:{slot:"prefix"},slot:"prefix"})])],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:e.re_type,placeholder:"请输入密码"},model:{value:e.re_ruleForm.password,callback:function(t){e.$set(e.re_ruleForm,"password",t)},expression:"re_ruleForm.password"}},[r("i",{staticClass:"el-input__icon el-icon-lock",staticStyle:{color:"#476fd3"},attrs:{slot:"prefix"},slot:"prefix"}),r("i",{class:e.re_iconClass,staticStyle:{cursor:"pointer"},attrs:{slot:"suffix"},on:{click:e.isShow_re},slot:"suffix"})])],1)],1)],1),r("div",{staticClass:"goLogin"},[r("span",{staticStyle:{"font-size":"12px",color:"#666666"}},[e._v("已有账号?")]),r("span",{staticStyle:{"font-size":"12px",color:"#2c66fb","margin-left":"5px",cursor:"pointer"},on:{click:e.goLogin}},[e._v("去登录")])]),r("div",{staticClass:"register_login"},[r("div",{on:{click:function(t){return e.register("re_ruleForm")}}},[e._v("注册")])])])])])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login_left"},[i("img",{staticClass:"left_bgc",attrs:{src:r("6d4b"),alt:""}}),i("div",{staticClass:"login_logo"},[i("img",{attrs:{src:r("9664"),alt:""}})])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"right_title"},[r("span",[e._v("API管理平台")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register_title"},[r("span",[e._v("注册账号")])])}],o=(r("ac1f"),r("5319"),r("5f87")),a=r("c24f"),l=(r("2257"),r("19d4"),r("3c07"),{data:function(){return{ruleForm:{username:"",password:""},rules:{username:{required:!0,message:"请输入账户名",trigger:"change"},password:{required:!0,message:"请输入密码",trigger:"change"}},re_ruleForm:{mobile:"",password:"",email:"",authCode:"123456",orgName:""},re_rules:{orgName:{required:!0,message:"请输入组织名称",trigger:"change"},mobile:{required:!0,message:"请输入手机号",trigger:"change"},email:[{required:!0,message:"请输入邮箱",trigger:"change"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],authCode:{required:!0,message:"请输入验证码",trigger:"change"},password:{required:!0,message:"请输入密码",trigger:"change"}},flag:!1,re_flag:!1,checked:!1,isLogin:!0,errorShow:!1,time:60,_inter:"",timeBegin:!1,errorMSG:""}},computed:{type:function(){return this.flag?"text":"password"},iconClass:function(){return this.flag?"el-icon-view":"iconfont icon-eye-close"},re_type:function(){return this.re_flag?"text":"password"},re_iconClass:function(){return this.re_flag?"el-icon-view":"iconfont icon-eye-close"}},watch:{time:function(e,t){0===e&&(clearInterval(this._inter),this.timeBegin=!1)}},methods:{isShow:function(){this.flag=!this.flag},isShow_re:function(){this.re_flag=!this.re_flag},goRegister:function(){this.isLogin=!1},register:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;console.log(t.re_ruleForm);var r={mobile:t.re_ruleForm.mobile,password:btoa(t.re_ruleForm.password),email:t.re_ruleForm.email,orgName:t.re_ruleForm.orgName};console.log(r),Object(a["b"])(r).then((function(e){console.log(e),200===e.code?(t.isLogin=!0,t.$message({message:e.msg,type:"success"})):t.$message({message:e.msg,type:"error"})}))}))},login:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.checked?(Object(o["c"])("name",t.ruleForm.username),Object(o["c"])("word",t.ruleForm.password),Object(o["c"])("ischecked",!0)):Object(o["c"])("ischecked",!1);var r={username:t.ruleForm.username,password:btoa(t.ruleForm.password)};Object(a["a"])(r).then((function(e){console.log(e),200===e.code?(Object(o["c"])("FSH_AUTH_api",e.data.token),Object(o["c"])("userId_api",e.data.userId),Object(o["c"])("apiPhone",e.data.mobile),t.$router.push("/dashboard/index")):(t.errorShow=!0,t.errorMSG=e.msg)}))}))},goLogin:function(){this.isLogin=!0},timing:function(){var e=this;this.time=60,this._inter=setInterval((function(){e.time--}),1e3)},getAuthCode:function(){this.timeBegin=!0,this.timing()},CSPLogin:function(){window.location.href="https://saic-aws.saicmotor.com/cspv2-web/#/login?redirect=api"}},created:function(){Object(o["b"])("FSH_AUTH_api"),Object(o["b"])("userId_api");var e=Object(o["a"])("ischecked");if(console.log(e),"true"===e&&(this.ruleForm={username:Object(o["a"])("name"),password:Object(o["a"])("word")},this.checked=!0),-1!=this.$route.fullPath.indexOf("mobile")){var t=decodeURIComponent(this.$route.fullPath.replace("/login?mobile=",""));console.log(t),this.isLogin=!1,this.re_ruleForm.mobile=t}console.log("初始化")}}),n=l,c=(r("a63e"),r("2877")),u=Object(c["a"])(n,i,s,!1,null,"4a7e0a55",null);t["default"]=u.exports},a63e:function(e,t,r){"use strict";r("76ca")}}]);