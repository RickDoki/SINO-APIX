(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a68ceb96"],{"76c4":function(e,t,a){"use strict";a("df18")},da5e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"api_list_main"},[a("el-dialog",{attrs:{title:e.tableDataname,visible:e.MKDialogVisible,"modal-append-to-body":!1},on:{"update:visible":function(t){e.MKDialogVisible=t}}},[a("div",[a("p",[e._v("请求参数:")]),a("vxe-table",{ref:"xTable",attrs:{border:"","show-overflow":"",data:e.requestParams}},[a("vxe-table-column",{attrs:{field:"parame",title:"参数","edit-render":{name:"input"}}}),a("vxe-table-column",{attrs:{field:"type",title:"类型","edit-render":{name:"input"}}}),a("vxe-table-column",{attrs:{field:"isHaveto",title:"是否必选","edit-render":{name:"$select",options:[{value:"是",label:"是"},{value:"否",label:"否"}]}}}),a("vxe-table-column",{attrs:{field:"describe",title:"描述","edit-render":{name:"input"}}}),a("vxe-table-column",{attrs:{field:"default",title:"默认值","edit-render":{name:"input"}}})],1),a("vue-context-menu",{attrs:{contextMenuData:e.contextMenuData},on:{savedata:e.savedata,newdata:e.newdata}})],1),a("div",[a("p",[e._v("请求示例:")]),a("prism-editor",{staticClass:"my-editor height-300",attrs:{highlight:e.highlighter,"line-numbers":e.lineNumbers,readonly:e.readonly},model:{value:e.requestExample,callback:function(t){e.requestExample=t},expression:"requestExample"}})],1),a("div",[a("p",[e._v("返回示例:")]),a("prism-editor",{staticClass:"my-editor height-300",attrs:{highlight:e.highlighter,"line-numbers":e.lineNumbers,readonly:e.readonly},model:{value:e.responseExample,callback:function(t){e.responseExample=t},expression:"responseExample"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.MKDialogVisible=!1}}},[e._v("取 消")])],1)]),a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"请输入模板名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.APIName,callback:function(t){e.APIName=t},expression:"APIName"}})],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),a("div",{staticClass:"tableBox"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{align:"center",prop:"name",label:"模板名称"}}),a("el-table-column",{attrs:{align:"center",width:"80",prop:"requestMethod",label:"请求方式"}}),a("el-table-column",{attrs:{align:"center",prop:"url",label:"请求路径"}}),a("el-table-column",{attrs:{align:"center",prop:"description",label:"模板描述"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.goCreate(t.row)}}},[e._v(" 使用模板 ")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.getDetail(t.row)}}},[e._v(" 详情 ")])]}}])})],1)],1)],1)},l=[],i=a("1da1"),r=(a("96cf"),a("b0c0"),a("b775"));function s(e){return Object(r["a"])({url:"/app/api/template/list"+e,method:"get"})}var o=a("e57a"),c=(a("cabf"),a("8c7a")),u=(a("cb55"),a("416b"),a("84bf"),{components:{PrismEditor:o["a"]},data:function(){return{tableData:[],readonly:!0,tableDataname:"",requestExample:"",responseExample:"",requestParams:[],APIName:"",MKDialogVisible:!1,lineNumbers:!0,contextMenuData:{menuName:"demo",axis:{x:null,y:null},menulists:[{fnHandler:"savedata",icoName:"fa fa-home fa-fw",btnName:"新增一行"},{fnHandler:"newdata",icoName:"fa fa-home fa-fw",btnName:"删除选中 "}]}}},created:function(){var e=this;s("").then((function(t){200===t.code&&(e.tableData=t.data.templateList)}))},methods:{goCreate:function(e){console.log(e),this.$router.push({path:"/api/add?id="+e.id})},getDetail:function(e){console.log(e),this.tableDataname=e.name,this.MKDialogVisible=!0,this.requestExample=JSON.parse(e.requestExample),this.responseExample=JSON.parse(e.responseExample),this.requestParams=JSON.parse(e.requestParams)},highlighter:function(e){return Object(c["highlight"])(e,c["languages"].js)},insertEvent:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,l,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=-1,n=e.$refs.xTable,l={parame:"",type:"",isHaveto:"",describe:"",default:""},t.next=5,n.insertAt(l,a);case 5:return i=t.sent,r=i.row,t.next=9,n.setActiveCell(r,"parame");case 9:case"end":return t.stop()}}),t)})))()},showMenu:function(){event.preventDefault();var e=event.clientX,t=event.clientY;this.contextMenuData.axis={x:e,y:t}},savedata:function(){this.insertEvent()},newdata:function(){this.$refs.xTable.removeCheckboxRow()},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},search:function(){var e=this,t="?name="+this.APIName;s(t).then((function(t){200===t.code&&(e.tableData=t.data.templateList)}))}}}),d=u,m=(a("76c4"),a("2877")),p=Object(m["a"])(d,n,l,!1,null,"0c12b4af",null);t["default"]=p.exports},df18:function(e,t,a){}}]);