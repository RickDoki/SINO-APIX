(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9cbb6a0e"],{"195a":function(e,t,i){"use strict";i("716e")},3203:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("div",{class:["json-view-container",e.theme]},[i("div",{class:["json-view",e.length?"closeable":""],style:{fontSize:e.fontSize+"px",lineHeight:e.lineHeight+"px"}},[e.length&&"square"===e.iconStyle?i("span",{staticClass:"angle",on:{click:e.toggleClose}},[e.innerclosed?i("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(42, 161, 152)",height:"1em",width:"1em"},attrs:{fill:e.iconColors[0],width:"1em",height:"1em",viewBox:"0 0 1792 1792"}},[i("path",{attrs:{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"}})]):e._e(),e.innerclosed?e._e():i("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(88, 110, 117)",height:"1em",width:"1em"},attrs:{fill:e.iconColors[1],width:"1em",height:"1em",viewBox:"0 0 1792 1792"}},[i("path",{attrs:{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"}})])]):e._e(),e.length&&"circle"===e.iconStyle?i("span",{staticClass:"angle",on:{click:e.toggleClose}},[e.innerclosed?e._e():i("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(1, 160, 228)",height:"1em",width:"1em"},attrs:{viewBox:"0 0 24 24",fill:e.iconColors[0],preserveAspectRatio:"xMidYMid meet"}},[i("path",{attrs:{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"}})]),e.innerclosed?i("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(161, 106, 148)",height:"1em",width:"1em"},attrs:{viewBox:"0 0 24 24",fill:e.iconColors[1],preserveAspectRatio:"xMidYMid meet"}},[i("path",{attrs:{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"}})]):e._e()]):e._e(),e.length&&"triangle"===e.iconStyle?i("span",{staticClass:"angle",on:{click:e.toggleClose}},[e.innerclosed?e._e():i("svg",{staticStyle:{"vertical-align":"top",color:"#3c4047",height:"1em",width:"1em","padding-left":"2px"},attrs:{viewBox:"0 0 15 15",fill:e.iconColors[0]}},[i("path",{attrs:{d:"M0 5l6 6 6-6z"}})]),e.innerclosed?i("svg",{staticStyle:{"vertical-align":"top",color:"#3c4047",height:"1em",width:"1em","padding-left":"2px"},attrs:{viewBox:"0 0 15 15",fill:e.iconColors[1]}},[i("path",{attrs:{d:"M0 14l6-6-6-6z"}})]):e._e()]):e._e(),i("div",{staticClass:"content-wrap"},[i("p",{class:["first-line",e.length>0?"pointer":""],on:{click:e.toggleClose}},[e.jsonKey?i("span",{staticClass:"json-key"},[e._v('"'+e._s(e.jsonKey)+'": ')]):e._e(),e.length?i("span",[e._v(e._s(e.prefix)+e._s(e.innerclosed?"..."+e.subfix:"")+" ")]):e._e(),e.length?e._e():i("span",[e._v(e._s((e.isArray?"[]":"{}")+(e.isLast?"":",")))])]),!e.innerclosed&&e.length?i("div",{staticClass:"json-body"},[e._l(e.items,(function(t,n){return[t.isJSON?i("json-view",{key:n,attrs:{closed:e.isClose(e.templateDeep+1),data:t.value,jsonKey:t.key,currentDeep:e.templateDeep+1,deep:e.deep,iconStyle:e.iconStyle,theme:e.theme,fontSize:e.fontSize,lineHeight:e.lineHeight,iconColor:e.iconColors,isLast:n===e.items.length-1,hasSiblings:t.hasSiblings}}):i("p",{key:n,staticClass:"json-item"},[i("span",{staticClass:"json-key"},[e._v(" "+e._s(e.isArray?"":'"'+t.key+'":')+" ")]),i("span",{class:["json-value",e.getDataType(t.value)]},[e._v(" "+e._s(("string"===e.getDataType(t.value)?'"':"")+t.value+("string"===e.getDataType(t.value)?'"':"")+(n===e.items.length-1?"":","))+" ")])])]})),e.innerclosed?e._e():i("span",{staticClass:"base-line"})],2):e._e(),e.innerclosed?e._e():i("p",{staticClass:"last-line"},[i("span",[e._v(e._s(e.subfix))])])])])]):e._e()},a=[],l=(i("a9e3"),i("b64b"),i("d81d"),i("fb6a"),i("d3b7"),i("caad"),i("2532"),{name:"jsonView",props:{data:{type:[Object,Array],required:!0},jsonKey:{type:String,default:""},closed:{type:Boolean,default:!1},isLast:{type:Boolean,default:!0},fontSize:{type:Number,default:14},lineHeight:{type:Number,default:24},deep:{type:Number,default:3},currentDeep:{type:Number,default:1},iconStyle:{type:String,default:"square"},iconColor:{type:Array,default:function(){return[]}},theme:{type:String,default:""},hasSiblings:{type:Boolean,default:!0}},data:function(){return{innerclosed:!0,templateDeep:1,visible:this.currentDeep<4}},computed:{isArray:function(){return"array"===this.getDataType(this.data)},length:function(){return this.isArray?this.data.length:Object.keys(this.data).length},subfix:function(){var e=this.data;return this.isEmptyArrayOrObject(e)?"":(this.isArray?"]":"}")+(this.isLast?"":",")},prefix:function(){return this.isArray?"[":"{"},items:function(){var e=this,t=this.data;return this.isArray?t.map((function(t){var i=e.isObjectOrArray(t);return{value:t,isJSON:i,key:""}})):Object.keys(t).map((function(i){var n=t[i],a=e.isObjectOrArray(n);return{value:n,isJSON:a,key:i}}))},iconColors:function(){var e=this.theme,t=this.iconColor;return 2===t.length?t:"one-dark"===e?["#747983","#747983"]:"vs-code"===e?["#c6c6c6","#c6c6c6"]:["#747983","#747983"]}},mounted:function(){var e=this;this.innerclosed=this.closed,this.templateDeep=this.currentDeep,setTimeout((function(){e.visible=!0}),0)},methods:{getDataType:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isObjectOrArray:function(e){return["array","object"].includes(this.getDataType(e))},toggleClose:function(){0!==this.length&&(this.innerclosed?this.innerclosed=!1:this.innerclosed=!0)},isClose:function(e){return e>this.deep},isEmptyArrayOrObject:function(e){return[{},[]].map((function(e){return JSON.stringify(e)})).includes(JSON.stringify(e))}},watch:{closed:function(){this.innerclosed=this.closed}}}),s=l,r=s,o=(i("195a"),i("2877")),c=Object(o["a"])(r,n,a,!1,null,"150ca4c1",null);t["a"]=c.exports},"46f5":function(e,t,i){},"716e":function(e,t,i){},"7e1e":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return l}));var n=i("b775");function a(e){return Object(n["a"])({url:"/gateway/log"+e,method:"get"})}function l(e){return Object(n["a"])({url:"/log/audit/list"+e,method:"get"})}},"9e31":function(e,t,i){"use strict";i("46f5")},abe3:function(e,t,i){},b391:function(e,t,i){"use strict";i("abe3")},f73b:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"api_list_main"},[i("table-list",{attrs:{total:e.total,"table-list":e.tableList,loading:e.loading},on:{refresh:e.refresh,pageChange:e.pageChange}})],1)},a=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tableFather"},[i("el-dialog",{attrs:{width:"900px",title:"详情",visible:e.MKDialogVisible},on:{"update:visible":function(t){e.MKDialogVisible=t}}},[i("div",[i("json-view",{attrs:{data:e.requestExample,theme:"vs-code",deep:2,fontSize:12}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.MKDialogVisible=!1}}},[e._v("取 消")])],1)]),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableList,"empty-text":"暂无数据",border:""}},[i("el-table-column",{attrs:{align:"center",prop:"trace",label:"请求标识"}}),i("el-table-column",{attrs:{align:"center",prop:"requestUri",label:"请求地址"}}),i("el-table-column",{attrs:{align:"center",width:"80",prop:"httpMethod",label:"请求方式"}}),i("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",prop:"params",label:"请求参数"}}),i("el-table-column",{attrs:{align:"center",prop:"remoteIp",label:"客户端 Ip"}}),i("el-table-column",{attrs:{align:"center",prop:"serverIp",label:"服务端 Ip"}}),i("el-table-column",{attrs:{align:"center",width:"65",prop:"env",label:"环境"}}),i("el-table-column",{attrs:{align:"center",width:"80",prop:"consumingTime",label:"耗时(ms)"}}),i("el-table-column",{attrs:{align:"center",width:"100",prop:"eventTime",label:"调用时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("TimeRanges")(t.row.eventTime))+" ")]}}])}),i("el-table-column",{attrs:{align:"center",width:"82",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isxiangqingShow?i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("详情")]):e._e()]}}])})],1),i("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":e.currentPage,layout:"prev, pager, next",total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.handleCurrentChange}})],1)},s=[],r=(i("b0c0"),i("a9e3"),i("e57a")),o=(i("cabf"),i("8c7a")),c=(i("cb55"),i("416b"),i("84bf"),i("3203")),u={filters:{TimeRanges:function(e){var t=new Date(e),i=t.getFullYear()+"-",n=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",a=t.getDate()+" ",l=t.getHours()+":",s=t.getMinutes()+":",r=t.getSeconds();return i+n+a+l+s+r}},components:{PrismEditor:r["a"],jsonView:c["a"]},created:function(){var e=this.$router.currentRoute.meta.title;console.log(e);var t=JSON.parse(sessionStorage.getItem("buttonList"));console.log(t);for(var i=0;i<t.length;i++)if(t[i].name===e)for(var n=0;n<t[i].list.length;n++)"详情"===t[i].list[n].name&&(this.isxiangqingShow=!0)},props:{tableList:{type:Array,default:null},total:{type:Number,default:0},loading:{type:Boolean,default:!0}},data:function(){return{currentPage:1,MKDialogVisible:!1,requestExample:"",responseExample:"",lineNumbers:!0,readonly:!0,isxiangqingShow:!1}},methods:{handleCurrentChange:function(e){this.currentPage=e,this.$emit("pageChange",e)},highlighter:function(e){return Object(o["highlight"])(e,o["languages"].js)},handleEdit:function(e,t){console.log(t),this.MKDialogVisible=!0,this.requestExample=t},handleDelete:function(e,t){}}},h=u,g=(i("9e31"),i("2877")),d=Object(g["a"])(h,l,s,!1,null,"1b530622",null),p=d.exports,f=i("7e1e"),m={components:{tableList:p},data:function(){return{APIName:"",value1:"",tableList:[],total:0,loading:!0}},created:function(){var e="?limit=10&offset=1";this.list(e)},methods:{list:function(e){var t=this;Object(f["a"])(e).then((function(e){200===e.code&&(t.tableList=e.data.logList,t.total=e.data.total,t.loading=!1)}))},refresh:function(){},pageChange:function(e){var t="?limit=10&offset="+e;this.list(t)}}},b=m,v=(i("b391"),Object(g["a"])(b,n,a,!1,null,"1dee101c",null));t["default"]=v.exports}}]);