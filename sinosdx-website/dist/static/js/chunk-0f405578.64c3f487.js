(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f405578"],{"13a1":function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return c}));var n=a("b775");function i(e){return Object(n["a"])({url:"/app/subscribed/list?"+e,method:"get"})}function s(e){return Object(n["a"])({url:"/app/subscribed/"+e,method:"get"})}function r(e){return Object(n["a"])({url:"/app/api/"+e,method:"get"})}function l(e,t){return Object(n["a"])({url:"/app/remove/"+e+"/lease/"+t,method:"delete"})}function o(e){return Object(n["a"])({url:"/app/"+e+"/lessee/list",method:"get"})}function c(e,t){return Object(n["a"])({url:"/app/subscribe/current/list?developerId="+e+"&appCode="+t,method:"get"})}},4050:function(e,t,a){"use strict";a("d273")},"64e1":function(e,t,a){},d273:function(e,t,a){},fe31:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app_list_main"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"生产环境",name:"first"}},[a("div",{staticClass:"first_list"},[a("div",{staticClass:"left"},[e._v("接口请求地址:")]),a("div",{staticClass:"right"},[a("el-input",{attrs:{disabled:!0},model:{value:e.gatewayDomain,callback:function(t){e.gatewayDomain=t},expression:"gatewayDomain"}})],1)]),a("div",{staticClass:"first_list"},[a("div",{staticClass:"left"},[e._v("client id:")]),a("div",{staticClass:"right"},[a("el-input",{attrs:{disabled:!0},model:{value:e.usingAppList[0].clientId,callback:function(t){e.$set(e.usingAppList[0],"clientId",t)},expression:"usingAppList[0].clientId"}})],1)]),a("div",{staticClass:"first_list"},[a("div",{staticClass:"left"},[e._v("client Secret:")]),a("div",{staticClass:"right"},[a("el-input",{attrs:{disabled:!0},model:{value:e.usingAppList[0].clientSecret,callback:function(t){e.$set(e.usingAppList[0],"clientSecret",t)},expression:"usingAppList[0].clientSecret"}})],1)])]),a("el-tab-pane",{attrs:{label:"订阅列表",name:"second"}},[a("div",[a("el-table",{staticClass:"table",attrs:{data:e.dydata,"header-cell-style":{background:"#F0F2F5"},border:"","empty-text":"暂无数据"}},[a("el-table-column",{attrs:{align:"center",prop:"name",label:"名称"}}),a("el-table-column",{attrs:{align:"center",prop:"apiName",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"mini",type:e.status[t.row.isPublished][0]}},[e._v(" "+e._s(e.status[t.row.isPublished][1])+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"apiName",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(" 取消订阅 ")])]}}])})],1)],1)]),a("el-tab-pane",{attrs:{label:"API详情",name:"three"}},[a("div",[a("el-table",{attrs:{"empty-text":"暂无数据","header-cell-style":{background:"#F0F2F5"},border:"",data:e.appVersions}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-table",{attrs:{border:"","header-cell-style":{background:"#F0F2F5"},data:t.row.apiVersionList}},[a("el-table-column",{attrs:{align:"center",prop:"version",label:"当前版本"}}),a("el-table-column",{attrs:{align:"center",prop:"apiName",label:"api名称"}}),a("el-table-column",{attrs:{align:"center",prop:"url",label:"API路径"}}),a("el-table-column",{attrs:{align:"center",prop:"description",label:"描述"}}),a("el-table-column",{attrs:{align:"center",prop:"requestMethod",label:"请求方式"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEditapi(t.$index,t.row)}}},[e._v("查看文档")])]}}],null,!0)})],1)]}}])}),a("el-table-column",{attrs:{align:"center",prop:"version",label:"应用版本号"}}),a("el-table-column",{attrs:{align:"center",prop:"description",label:"版本描述"}})],1)],1)])],1),a("el-drawer",{attrs:{title:"API文档","before-close":e.handleClosedrawerapi,visible:e.drawerapi,direction:"rtl",size:"45%"},on:{"update:visible":function(t){e.drawerapi=t}}},[a("div",{staticClass:"demo-drawer__content",staticStyle:{padding:"20px"}},[a("div",[a("p",[e._v("请求参数:")]),a("vxe-table",{ref:"xTable",attrs:{border:"","show-overflow":"",data:e.requestParams,"edit-config":{trigger:"click",mode:"cell"}}},[a("vxe-table-column",{attrs:{field:"parame",title:"参数","edit-render":{name:"input"}}}),a("vxe-table-column",{attrs:{field:"type",title:"类型","edit-render":{name:"input"}}}),a("vxe-table-column",{attrs:{field:"isHaveto",title:"必选","edit-render":{name:"input"}}}),a("vxe-table-column",{attrs:{field:"describe",title:"描述","edit-render":{name:"input"}}}),a("vxe-table-column",{attrs:{field:"default",title:"默认值","edit-render":{name:"input"}}})],1),a("vue-context-menu",{attrs:{contextMenuData:e.contextMenuData},on:{savedata:e.savedata,newdata:e.newdata}})],1),a("div",[a("p",[e._v("请求示例:")]),a("prism-editor",{staticClass:"my-editor height-300",attrs:{highlight:e.highlighter,"line-numbers":e.lineNumbers,readonly:e.readonly},model:{value:e.requestExample,callback:function(t){e.requestExample=t},expression:"requestExample"}})],1),a("div",[a("p",[e._v("返回示例:")]),a("prism-editor",{staticClass:"my-editor height-300",attrs:{highlight:e.highlighter,"line-numbers":e.lineNumbers,readonly:e.readonly},model:{value:e.responseExample,callback:function(t){e.responseExample=t},expression:"responseExample"}})],1)])])],1)},i=[],s=a("1da1"),r=(a("96cf"),a("13a1")),l=a("5f87"),o=(a("64e1"),a("e57a")),c=(a("cabf"),a("8c7a")),u=(a("cb55"),a("416b"),a("84bf"),{components:{PrismEditor:o["a"]},data:function(){return{drawerapi:!1,status:{60001:["info","未启用"],60005:["success","已启用"],60002:["success","已上架"],60003:["danger","异常中"],60004:["warning","已停用"]},dydata:[],data:[],appVersions:[],activeName:"first",readonly:!0,gatewayDomain:"",usingAppList:[{clientId:"",clientSecret:""}],requestExample:"",responseExample:"",lineNumbers:!0,MKDialogVisible:!1,requestParams:[{parame:"name",type:"String",isHaveto:"必选",describe:"描述",default:"默认值"}],contextMenuData:{menuName:"demo",axis:{x:null,y:null},menulists:[{fnHandler:"savedata",icoName:"fa fa-home fa-fw",btnName:"新增一行"},{fnHandler:"newdata",icoName:"fa fa-home fa-fw",btnName:"删除选中 "}]}}},created:function(){var e=this;if(this.$route.query.appCode){Object(r["c"])(this.$route.query.appCode).then((function(t){e.gatewayDomain=t.data.gatewayDomain,console.log(t),e.usingAppList=[{clientId:t.data.clientId,clientSecret:t.data.clientSecret}],e.appVersions=t.data.appVersions}));var t=Object(l["a"])("userId_api");Object(r["e"])(t,this.$route.query.appCode).then((function(t){console.log(t),e.dydata=t.data}))}},methods:{handleClosedrawerapi:function(){this.drawerapi=!1},handleEditapi:function(e,t){console.log(t),this.requestExample=JSON.parse(t.requestExample),this.requestParams=JSON.parse(t.requestParams),this.responseExample=JSON.parse(t.responseExample),this.drawerapi=!0},handleDelete:function(e,t){var a=this;console.log(e,t),Object(r["b"])(t.code,this.$route.query.appCode).then((function(e){if(200===e.code){a.messageOK(e.msg);var t=Object(l["a"])("userId_api");Object(r["e"])(t,a.$route.query.appCode).then((function(e){console.log(e),a.dydata=e.data}))}else a.messageERROR(e.msg)}))},handleClick:function(e,t){console.log(e,t)},highlighter:function(e){return Object(c["highlight"])(e,c["languages"].js)},insertEvent:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=-1,n=e.$refs.xTable,i={parame:"",type:"",isHaveto:"",describe:"",default:""},t.next=5,n.insertAt(i,a);case 5:return s=t.sent,r=s.row,t.next=9,n.setActiveCell(r,"parame");case 9:case"end":return t.stop()}}),t)})))()},showMenu:function(){event.preventDefault();var e=event.clientX,t=event.clientY;this.contextMenuData.axis={x:e,y:t}},savedata:function(){this.insertEvent()},newdata:function(){this.$refs.xTable.removeCheckboxRow()},handleEdit:function(e,t){var a=this;console.log(t),this.MKDialogVisible=!0,Object(r["a"])(t.apiId).then((function(e){a.requestExample=JSON.parse(e.data.requestExample),a.requestParams=JSON.parse(e.data.requestParams),a.responseExample=JSON.parse(e.data.responseExample)}))},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},messageOK:function(e){this.$message({message:e,type:"success"})},messageERROR:function(e){this.$message({message:e,type:"error"})}}}),d=u,p=(a("4050"),a("2877")),m=Object(p["a"])(d,n,i,!1,null,"8306a928",null);t["default"]=m.exports}}]);