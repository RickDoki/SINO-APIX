(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a740e404"],{"080b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visible?a("div",{class:["json-view-container",t.theme]},[a("div",{class:["json-view",t.length?"closeable":""],style:{fontSize:t.fontSize+"px",lineHeight:t.lineHeight+"px"}},[t.length&&"square"===t.iconStyle?a("span",{staticClass:"angle",on:{click:t.toggleClose}},[t.innerclosed?a("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(42, 161, 152)",height:"1em",width:"1em"},attrs:{fill:t.iconColors[0],width:"1em",height:"1em",viewBox:"0 0 1792 1792"}},[a("path",{attrs:{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"}})]):t._e(),t.innerclosed?t._e():a("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(88, 110, 117)",height:"1em",width:"1em"},attrs:{fill:t.iconColors[1],width:"1em",height:"1em",viewBox:"0 0 1792 1792"}},[a("path",{attrs:{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"}})])]):t._e(),t.length&&"circle"===t.iconStyle?a("span",{staticClass:"angle",on:{click:t.toggleClose}},[t.innerclosed?t._e():a("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(1, 160, 228)",height:"1em",width:"1em"},attrs:{viewBox:"0 0 24 24",fill:t.iconColors[0],preserveAspectRatio:"xMidYMid meet"}},[a("path",{attrs:{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"}})]),t.innerclosed?a("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(161, 106, 148)",height:"1em",width:"1em"},attrs:{viewBox:"0 0 24 24",fill:t.iconColors[1],preserveAspectRatio:"xMidYMid meet"}},[a("path",{attrs:{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"}})]):t._e()]):t._e(),t.length&&"triangle"===t.iconStyle?a("span",{staticClass:"angle",on:{click:t.toggleClose}},[t.innerclosed?t._e():a("svg",{staticStyle:{"vertical-align":"top",color:"#3c4047",height:"1em",width:"1em","padding-left":"2px"},attrs:{viewBox:"0 0 15 15",fill:t.iconColors[0]}},[a("path",{attrs:{d:"M0 5l6 6 6-6z"}})]),t.innerclosed?a("svg",{staticStyle:{"vertical-align":"top",color:"#3c4047",height:"1em",width:"1em","padding-left":"2px"},attrs:{viewBox:"0 0 15 15",fill:t.iconColors[1]}},[a("path",{attrs:{d:"M0 14l6-6-6-6z"}})]):t._e()]):t._e(),a("div",{staticClass:"content-wrap"},[a("p",{class:["first-line",t.length>0?"pointer":""],on:{click:t.toggleClose}},[t.jsonKey?a("span",{staticClass:"json-key"},[t._v('"'+t._s(t.jsonKey)+'": ')]):t._e(),t.length?a("span",[t._v(t._s(t.prefix)+t._s(t.innerclosed?"..."+t.subfix:"")+" ")]):t._e(),t.length?t._e():a("span",[t._v(t._s((t.isArray?"[]":"{}")+(t.isLast?"":",")))])]),!t.innerclosed&&t.length?a("div",{staticClass:"json-body"},[t._l(t.items,(function(e,i){return[e.isJSON?a("json-view",{key:i,attrs:{closed:t.isClose(t.templateDeep+1),data:e.value,jsonKey:e.key,currentDeep:t.templateDeep+1,deep:t.deep,iconStyle:t.iconStyle,theme:t.theme,fontSize:t.fontSize,lineHeight:t.lineHeight,iconColor:t.iconColors,isLast:i===t.items.length-1,hasSiblings:e.hasSiblings}}):a("p",{key:i,staticClass:"json-item"},[a("span",{staticClass:"json-key"},[t._v(" "+t._s(t.isArray?"":'"'+e.key+'":')+" ")]),a("span",{class:["json-value",t.getDataType(e.value)]},[t._v(" "+t._s(("string"===t.getDataType(e.value)?'"':"")+e.value+("string"===t.getDataType(e.value)?'"':"")+(i===t.items.length-1?"":","))+" ")])])]})),t.innerclosed?t._e():a("span",{staticClass:"base-line"})],2):t._e(),t.innerclosed?t._e():a("p",{staticClass:"last-line"},[a("span",[t._v(t._s(t.subfix))])])])])]):t._e()},n=[],s=(a("a9e3"),a("b64b"),a("d81d"),a("fb6a"),a("d3b7"),a("caad"),a("2532"),{name:"jsonView",props:{data:{type:[Object,Array],required:!0},jsonKey:{type:String,default:""},closed:{type:Boolean,default:!1},isLast:{type:Boolean,default:!0},fontSize:{type:Number,default:14},lineHeight:{type:Number,default:24},deep:{type:Number,default:3},currentDeep:{type:Number,default:1},iconStyle:{type:String,default:"square"},iconColor:{type:Array,default:function(){return[]}},theme:{type:String,default:""},hasSiblings:{type:Boolean,default:!0}},data:function(){return{innerclosed:!0,templateDeep:1,visible:this.currentDeep<4}},computed:{isArray:function(){return"array"===this.getDataType(this.data)},length:function(){return this.isArray?this.data.length:Object.keys(this.data).length},subfix:function(){var t=this.data;return this.isEmptyArrayOrObject(t)?"":(this.isArray?"]":"}")+(this.isLast?"":",")},prefix:function(){return this.isArray?"[":"{"},items:function(){var t=this,e=this.data;return this.isArray?e.map((function(e){var a=t.isObjectOrArray(e);return{value:e,isJSON:a,key:""}})):Object.keys(e).map((function(a){var i=e[a],n=t.isObjectOrArray(i);return{value:i,isJSON:n,key:a}}))},iconColors:function(){var t=this.theme,e=this.iconColor;return 2===e.length?e:"one-dark"===t?["#747983","#747983"]:"vs-code"===t?["#c6c6c6","#c6c6c6"]:["#747983","#747983"]}},mounted:function(){var t=this;this.innerclosed=this.closed,this.templateDeep=this.currentDeep,setTimeout((function(){t.visible=!0}),0)},methods:{getDataType:function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},isObjectOrArray:function(t){return["array","object"].includes(this.getDataType(t))},toggleClose:function(){0!==this.length&&(this.innerclosed?this.innerclosed=!1:this.innerclosed=!0)},isClose:function(t){return t>this.deep},isEmptyArrayOrObject:function(t){return[{},[]].map((function(t){return JSON.stringify(t)})).includes(JSON.stringify(t))}},watch:{closed:function(){this.innerclosed=this.closed}}}),r=s,l=r,o=(a("e055"),a("2877")),c=Object(o["a"])(l,i,n,!1,null,"5c4aa56a",null);e["a"]=c.exports},"4ca4":function(t,e,a){"use strict";a("c8bc")},"4e3b":function(t,e,a){"use strict";a("8b65")},65663:function(t,e,a){"use strict";a("bfdc")},"8b65":function(t,e,a){},a1ad:function(t,e,a){"use strict";a.d(e,"u",(function(){return n})),a.d(e,"g",(function(){return s})),a.d(e,"v",(function(){return r})),a.d(e,"s",(function(){return l})),a.d(e,"t",(function(){return o})),a.d(e,"d",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"n",(function(){return p})),a.d(e,"h",(function(){return d})),a.d(e,"a",(function(){return h})),a.d(e,"p",(function(){return g})),a.d(e,"e",(function(){return f})),a.d(e,"x",(function(){return b})),a.d(e,"k",(function(){return v})),a.d(e,"w",(function(){return m})),a.d(e,"c",(function(){return C})),a.d(e,"m",(function(){return _})),a.d(e,"q",(function(){return y})),a.d(e,"r",(function(){return w})),a.d(e,"o",(function(){return j})),a.d(e,"j",(function(){return x})),a.d(e,"i",(function(){return O})),a.d(e,"l",(function(){return q})),a.d(e,"f",(function(){return L}));var i=a("b775");function n(t){return Object(i["a"])({url:"/app/list?"+t,method:"get"})}function s(t){return Object(i["a"])({url:"/app/create",method:"post",data:t})}function r(t,e){return Object(i["a"])({url:"/app/"+t,method:"put",data:e})}function l(t){return Object(i["a"])({url:"/app/"+t,method:"delete"})}function o(t){return Object(i["a"])({url:"/app/"+t,method:"get"})}function c(t){return Object(i["a"])({url:"/app/data/"+t+"/appNum",method:"post"})}function u(t){return Object(i["a"])({url:"/app/api/list?developerId="+t,method:"get"})}function p(t,e){return Object(i["a"])({url:"/app/"+t+"/publish",method:"post",data:e})}function d(t){return Object(i["a"])({url:"/app/appVersion/"+t,method:"delete"})}function h(t){return Object(i["a"])({url:"/app/subscribed/list?"+t,method:"get"})}function g(t){return Object(i["a"])({url:"/app/api/queryApiList",method:"post",data:t})}function f(t,e){return Object(i["a"])({url:"/app/appVersion/"+t,method:"post",data:e})}function b(t){return Object(i["a"])({url:"/app/appVersion/"+t,method:"get"})}function v(t){return Object(i["a"])({url:"/gateway/log?"+t,method:"get"})}function m(t){return Object(i["a"])({url:"/app/subscribed/"+t,method:"get"})}function C(t){return Object(i["a"])({url:"/app/api/"+t,method:"get"})}function _(t){return Object(i["a"])({url:"/app/plugin",method:"post",data:t})}function y(){return Object(i["a"])({url:"/app/plugin/randomKey",method:"get"})}function w(t){return Object(i["a"])({url:"/app/rateLimit/save",method:"post",data:t})}function j(t){return Object(i["a"])({url:"/app/plugin",method:"put",data:t})}function x(t){return Object(i["a"])({url:"/app/unSubscribe/"+t,method:"post"})}function O(t,e){return Object(i["a"])({url:"/app/plugin/"+t+"/"+e,method:"get"})}function q(t){return Object(i["a"])({url:"/app/rateLimit/open?appId="+t,method:"post"})}function L(t){return Object(i["a"])({url:"/app/rateLimit/close?appId="+t,method:"post"})}},bfdc:function(t,e,a){},c8bc:function(t,e,a){},e055:function(t,e,a){"use strict";a("fd19")},f77e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"he_height"},[a("div",{staticClass:"list_top"},[a("div",{staticClass:"list_title"},[t._v(t._s(t.serveAllMeaasge.appName))]),a("div",{staticClass:"list_search"},[a("el-button",{staticClass:"td-but",attrs:{type:"primary",size:"small"},on:{click:t.unSubscribe}},[t._v("退订")])],1)]),a("div",{staticClass:"secondTitle"},[t._v(t._s(t.serveAllMeaasge.appDescription))]),a("div",{staticClass:"status"},[t._m(0),a("div",{staticClass:"time"},[a("div",[a("span",[t._v("发布时间 : ")]),a("span",[t._v(t._s(t.serveAllMeaasge.appPublishDate))])]),a("div",[a("span",[t._v("订阅时间 : ")]),a("span",[t._v(t._s(t.serveAllMeaasge.subscribeDate))])])])]),a("div",{staticClass:"tabsMessage"},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"API详情",name:"first"}},[a("api-detail",{attrs:{list:t.versionList,defaultApiList:t.apiList},on:{changeVersion:t.changeVersion}})],1),a("el-tab-pane",{attrs:{label:"插件详情",name:"second"}},[a("plug-in")],1)],1)],1)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left-span"},[a("span",[t._v("服务商 : ")]),t._v(" "),a("span",[t._v(" 博冀信息")])])}],s=(a("fcb4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"he_main"},[a("el-row",{staticStyle:{height:"100%"}},[a("el-col",{staticStyle:{height:"100%"},attrs:{span:4}},[a("div",{staticClass:"apiList"},[a("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:t.apiValueChange},model:{value:t.apiValue,callback:function(e){t.apiValue=e},expression:"apiValue"}},t._l(t.list,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._l(t.defaultApiList,(function(e,i){return a("p",{key:i,class:t.classList[i],on:{click:function(a){return t.choseApi(e,i)}}},[t._v(" "+t._s(e.apiName)+" ")])}))],2)]),a("el-col",{staticStyle:{height:"100%"},attrs:{span:20}},[a("div",{staticClass:"apiMessage"},[a("div",{staticClass:"api-info"},[a("div",{staticClass:"title"},[t._v(t._s(t.apiMessageAll.apiName))]),a("div",{staticClass:"secondTitle"},[t._v(t._s(t.apiMessageAll.description))])]),a("div",{staticClass:"api-info"},[a("span",{staticClass:"label-color"},[t._v("调用路径 : ")]),a("span",{staticClass:"conten-color"},[t._v(t._s(t.apiMessageAll.domain))]),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.apiMessageAll.domain,expression:"apiMessageAll.domain",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"el-icon-copy-document icon-color"})]),a("div",{staticClass:"api-info"},[a("span",{staticClass:"label-color agrement"},[t._v("协议类型 : ")]),a("span",{staticClass:"conten-color"},[t._v(t._s(t.apiMessageAll.protocol))])]),a("div",{staticClass:"api-info"},[a("span",{staticClass:"label-color"},[t._v("请求方式 : ")]),a("span",{staticClass:"conten-color"},[t._v(t._s(t.apiMessageAll.requestMethod))])]),a("div",{staticClass:"api-info"},[a("span",{staticClass:"label-color"},[t._v("请求参数 : ")]),a("div",{staticClass:"table_box table_top"},[a("el-table",{attrs:{data:t.table,"empty-text":"暂无数据","row-style":{height:"50px"},"highlight-current-row":"","header-cell-style":{"font-weight":400,color:"#494E6A"}}},[a("el-table-column",{attrs:{prop:"parame",label:"名称"}}),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),a("el-table-column",{attrs:{prop:"isHaveto",label:"是否必选"}}),a("el-table-column",{attrs:{prop:"describe",label:"描述"}}),a("el-table-column",{attrs:{prop:"default",label:"默认值"}})],1)],1)]),a("div",{staticClass:"api-info"},[a("span",{staticClass:"label-color"},[t._v("状态码 : ")]),a("div",{staticClass:"table_box table_top"},[a("el-table",{attrs:{data:t.statusTable,"empty-text":"暂无数据","row-style":{height:"50px"},"highlight-current-row":"","header-cell-style":{"font-weight":400,color:"#494E6A"}}},[a("el-table-column",{attrs:{prop:"statusCode",label:"状态码",width:"200"}}),a("el-table-column",{attrs:{prop:"describe",label:"描述"}})],1)],1)])])])],1)],1)}),r=[],l=a("a1ad"),o={data:function(){return{table:[],apiOptions:[],apiValue:"",classList:[],appCode:"",apiMessageAll:{},statusTable:[{statusCode:200,describe:"操作成功"},{statusCode:400,describe:"操作失败"}]}},props:["list","defaultApiList"],created:function(){this.appCode=this.$route.params.appCode},mounted:function(){},methods:{choseApi:function(t,e){this.classList=[];for(var a=0;a<this.defaultApiList.length;a++)a===e?this.classList.push("hitClass"):this.classList.push("nohit");console.log(t);var i=t.apiId;this.getapiMessage(i)},getapiMessage:function(t){var e=this;Object(l["c"])(t).then((function(t){200===t.code&&(e.apiMessageAll=t.data,e.table=JSON.parse(t.data.requestParams),console.log(e.table))}))},apiValueChange:function(){var t=this,e={appCode:this.appCode,appVersionId:this.apiValue};Object(l["p"])(e).then((function(e){200===e.code&&t.$emit("changeVersion",e.data.apiList)}))},onCopy:function(){this.$message("复制成功")},onError:function(){this.$message("复制失败")}},watch:{list:function(){this.apiValue=this.list[0].value},defaultApiList:function(){this.classList=[];for(var t=0;t<this.defaultApiList.length;t++)0===t?this.classList.push("hitClass"):this.classList.push("nohit");console.log(this.defaultApiList);var e=this.defaultApiList[0].apiId;this.getapiMessage(e)}}},c=o,u=(a("65663"),a("2877")),p=Object(u["a"])(c,s,r,!1,null,"83c749da",null),d=p.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plug-in auto"},[a("el-drawer",{attrs:{title:"日志详情",visible:t.drawer,direction:t.direction,"before-close":t.handleClose,size:"50%"},on:{"update:visible":function(e){t.drawer=e}}},[a("json-view",{attrs:{data:this.historylist,theme:"index",deep:2,fontSize:12}})],1),a("div",{staticClass:"table_box mode-margin"},[a("p",[t._v("已添加插件")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.versionLoading,expression:"versionLoading"}],attrs:{data:t.pluginsTable,"empty-text":"暂无数据","row-style":{height:"50px"},"highlight-current-row":"","header-cell-style":{"font-weight":400,"font-size":"16px",color:"#1D1C35"}}},[a("el-table-column",{attrs:{prop:"appName",label:"插件名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(" "+t._s(t._f("plugName")(e.row.pluginType))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"appCode",label:"启用状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-switch",{attrs:{"active-color":"#6EE4A5","inactive-color":"#E1E6EE","active-value":1,"inactive-value":0},on:{change:function(a){return t.enabledChange(e.row)}},model:{value:e.row.enabled,callback:function(a){t.$set(e.row,"enabled",a)},expression:"scope.row.enabled"}})],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.getMessage(e.row)}}},[t._v("查看")]),t.goConfig(e.row.pluginType)?a("span",{staticClass:"handle"},[t._v("|")]):t._e(),t.goConfig(e.row.pluginType)?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.pluginConfig(e.row)}}},[t._v("配置")]):t._e()]}}])})],1)],1),a("div",{staticClass:"table_box mode-margin"},[t._m(0),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.requestLoding,expression:"requestLoding"}],attrs:{data:t.requestTable,"empty-text":"暂无数据","row-style":{height:"50px"},"highlight-current-row":"","header-cell-style":{"font-weight":400,"font-size":"16px",color:"#1D1C35"}}},[a("el-table-column",{attrs:{prop:"requestUri",label:"请求地址",width:"280px"}}),a("el-table-column",{attrs:{prop:"httpMethod",label:"请求方式"}}),a("el-table-column",{attrs:{prop:"remoteIp",label:"客户端IP"}}),a("el-table-column",{attrs:{prop:"serverIp",label:"服务端IP"}}),a("el-table-column",{attrs:{prop:"consumingTime",label:"耗时(ms)"}}),a("el-table-column",{attrs:{label:"调用时间",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("formatDate")(e.row.eventTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.getlogs(e.row)}}},[t._v("查看")])]}}])})],1),a("el-pagination",{staticClass:"list-pagination",attrs:{background:"","current-page":t.currentPageRequest,layout:"prev, pager, next",total:t.totalRequest},on:{"update:currentPage":function(e){t.currentPageRequest=e},"update:current-page":function(e){t.currentPageRequest=e},"current-change":t.handleCurrentChangeRequest}})],1),a("div",{staticClass:"table_box mode-margin"},[t._m(1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.errorLoading,expression:"errorLoading"}],attrs:{data:t.ErrorTable,"row-style":{height:"50px"},"highlight-current-row":"","header-cell-style":{"font-weight":400,"font-size":"16px",color:"#1D1C35"}}},[a("el-table-column",{attrs:{prop:"requestUri",label:"请求地址",width:"280px"}}),a("el-table-column",{attrs:{prop:"httpMethod",label:"请求方式"}}),a("el-table-column",{attrs:{prop:"remoteIp",label:"客户端IP"}}),a("el-table-column",{attrs:{prop:"serverIp",label:"服务端IP"}}),a("el-table-column",{attrs:{prop:"consumingTime",label:"耗时(ms)"}}),a("el-table-column",{attrs:{label:"调用时间",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("formatDate")(e.row.eventTime)))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.getlogs(e.row)}}},[t._v("查看")])]}}])})],1),a("el-pagination",{staticClass:"list-pagination",attrs:{background:"","current-page":t.currentPageError,layout:"prev, pager, next",total:t.totalError},on:{"update:currentPage":function(e){t.currentPageError=e},"update:current-page":function(e){t.currentPageError=e},"current-change":t.handleCurrentChangeError}})],1)],1)},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"serve-table"},[a("div",{staticClass:"table-tilelong"},[t._v("请求日志")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"serve-table"},[a("div",{staticClass:"table-tilelong"},[t._v("错误日志")])])}],f=a("080b"),b={components:{jsonView:f["a"]},filters:{plugName:function(t){var e={jwt:"Jwt-auth",base_auth:"basic_auth",oauth2:"OAuth2.0",black_list_ip:"IP 黑名单控制",white_list_ip:"IP 白名单控制",cors:"cors跨域",sign:"防篡改签名",replay_attacks:"防网络重放攻击",error_log:"error log",http_log:"http log",sentinel:"sentinel",gzip:"gzip",proxy_cache:"proxy_cache",real_ip:"real_ip",response_rewrite:"response-rewrite"};return t?e[t]:""}},data:function(){return{historylist:{},direction:"rtl",drawer:!1,ErrorTable:[],pluginsTable:[],appCode:"",versionLoading:!1,appId:"",requestLoding:!1,requestTable:[],currentPageRequest:1,totalRequest:0,errorLoading:!1,currentPageError:1,totalError:0}},created:function(){this.appCode=this.$route.params.appCode,this.getServeDeatil(),this.getLog("request"),this.getLog("error")},methods:{handleClose:function(t){t()},getlogs:function(t){this.drawer=!0,this.historylist=t},getServeDeatil:function(){var t=this;this.versionLoading=!0,Object(l["t"])(this.appCode).then((function(e){200===e.code&&(t.versionLoading=!1,t.appId=e.data.appId,t.pluginsTable=e.data.plugins)}))},enabledChange:function(t){var e=this;if("sentinel"===t.pluginType)0===t.enabled?Object(l["l"])(t.appId).then((function(a){if(200===a.code){var i={appId:t.appId,appCode:t.appCode,pluginType:t.pluginType,enabled:t.enabled,id:t.id};Object(l["o"])(i).then((function(t){200===t.code&&e.getServeDeatil()}))}})):Object(l["f"])(t.appId).then((function(a){if(200===a.code){var i={appId:t.appId,appCode:t.appCode,pluginType:t.pluginType,enabled:t.enabled,id:t.id};Object(l["o"])(i).then((function(t){200===t.code&&e.getServeDeatil()}))}}));else{var a={appId:t.appId,appCode:t.appCode,pluginType:t.pluginType,enabled:t.enabled,id:t.id};Object(l["o"])(a).then((function(t){200===t.code&&e.getServeDeatil()}))}},pluginConfig:function(t){console.log(t),this.$router.push("/serve/serveDetail/pluginConfig/"+t.pluginType+"?appcode="+t.appCode+"&appid="+t.appId+"&id="+t.id+"&pluginParams=true")},getLog:function(t){var e=this;if("request"===t){this.requestLoding=!0;var a="appCode="+this.appCode+"&limit=10&offset="+this.currentPageRequest+"&statusCode=200";Object(l["k"])(a).then((function(t){200===t.code&&(e.requestTable=t.data.logList,e.requestLoding=!1,e.totalRequest=t.data.total)}))}else{var i="appCode="+this.appCode+"&limit=10&offset="+this.currentPageError+"&statusCode=500";this.errorLoading=!0,Object(l["k"])(i).then((function(t){200===t.code&&(e.errorLoading=!1,e.ErrorTable=t.data.logList,e.totalError=t.data.total)}))}},handleCurrentChangeRequest:function(t){this.currentPageRequest=t,this.getLog("request")},handleCurrentChangeError:function(t){this.currentPageError=t,this.getLog("error")},goConfig:function(t){return"jwt"===t||"oauth2"===t||"black_list_ip"===t||"white_list_ip"===t||"cors"===t||"sign"===t||"sentinel"===t}}},v=b,m=(a("4ca4"),Object(u["a"])(v,h,g,!1,null,"633470c2",null)),C=m.exports,_={data:function(){return{activeName:"first",appCode:"",serveAllMeaasge:{},loading:!1,versionList:[],apiList:[]}},created:function(){this.appCode=this.$route.params.appCode,this.getSubscribed()},components:{apiDetail:d,plugIn:C},methods:{handleClick:function(){},getSubscribed:function(){var t=this;this.loading=!0,Object(l["w"])(this.appCode).then((function(e){if(200===e.code){t.loading=!1,t.serveAllMeaasge=e.data,t.versionList=[];for(var a=0;a<e.data.appVersion.length;a++)t.versionList.push({label:e.data.appVersion[a].version,value:e.data.appVersion[a].id});t.apiList=e.data.appVersion[0].apiList}}))},changeVersion:function(t){this.apiList=t},unSubscribe:function(){var t=this;this.$confirm("确认退订服务"+this.serveAllMeaasge.appName+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["j"])(t.appCode).then((function(e){200===e.code&&t.$router.push({path:"/serve/subscribe"})}))})).catch((function(){}))}}},y=_,w=(a("4e3b"),Object(u["a"])(y,i,n,!1,null,"6cd506d7",null));e["default"]=w.exports},fcb4:function(t,e,a){},fd19:function(t,e,a){}}]);